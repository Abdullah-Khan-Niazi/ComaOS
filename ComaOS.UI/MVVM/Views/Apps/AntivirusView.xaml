<UserControl x:Class="ComaOS.UI.MVVM.Views.Apps.AntivirusView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
             mc:Ignorable="d" 
             d:DesignHeight="450" d:DesignWidth="400"
             Background="#1a1a2a">
    
    <Grid Margin="15">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>
        
        <!-- Status Header -->
        <Border Grid.Row="0" x:Name="StatusBorder" Background="#1a3d1a" CornerRadius="8" Padding="20" Margin="0,0,0,15">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="*"/>
                </Grid.ColumnDefinitions>
                
                <TextBlock x:Name="StatusIcon" Text="ðŸ›¡ï¸" FontSize="48" VerticalAlignment="Center" Margin="0,0,15,0"/>
                
                <StackPanel Grid.Column="1" VerticalAlignment="Center">
                    <TextBlock x:Name="StatusTitle" Text="System Protected" FontSize="18" 
                               Foreground="#22c55e" FontWeight="SemiBold"/>
                    <TextBlock x:Name="StatusSubtitle" Text="No threats detected" FontSize="12" 
                               Foreground="#888" Margin="0,3,0,0"/>
                    <TextBlock x:Name="LastScanText" Text="Last scan: Never" FontSize="11" 
                               Foreground="#666" Margin="0,5,0,0"/>
                </StackPanel>
            </Grid>
        </Border>
        
        <!-- Scan Options -->
        <StackPanel Grid.Row="1" Margin="0,0,0,15">
            <TextBlock Text="Scan Options" Foreground="#888" FontSize="12" FontWeight="SemiBold" Margin="0,0,0,10"/>
            
            <UniformGrid Columns="3" Rows="1">
                <Button x:Name="QuickScanButton" Click="QuickScan_Click"
                        Background="#252535" Foreground="#ccc" Padding="10,15" 
                        BorderThickness="0" Margin="0,0,5,0" Cursor="Hand">
                    <StackPanel>
                        <TextBlock Text="âš¡" FontSize="24" HorizontalAlignment="Center"/>
                        <TextBlock Text="Quick Scan" FontSize="11" HorizontalAlignment="Center" Margin="0,5,0,0"/>
                    </StackPanel>
                </Button>
                
                <Button x:Name="FullScanButton" Click="FullScan_Click"
                        Background="#252535" Foreground="#ccc" Padding="10,15" 
                        BorderThickness="0" Margin="2.5,0" Cursor="Hand">
                    <StackPanel>
                        <TextBlock Text="ðŸ”" FontSize="24" HorizontalAlignment="Center"/>
                        <TextBlock Text="Full Scan" FontSize="11" HorizontalAlignment="Center" Margin="0,5,0,0"/>
                    </StackPanel>
                </Button>
                
                <Button x:Name="CustomScanButton" Click="CustomScan_Click"
                        Background="#252535" Foreground="#ccc" Padding="10,15" 
                        BorderThickness="0" Margin="5,0,0,0" Cursor="Hand">
                    <StackPanel>
                        <TextBlock Text="ðŸ“" FontSize="24" HorizontalAlignment="Center"/>
                        <TextBlock Text="Custom Scan" FontSize="11" HorizontalAlignment="Center" Margin="0,5,0,0"/>
                    </StackPanel>
                </Button>
            </UniformGrid>
        </StackPanel>
        
        <!-- Scan Progress / Results -->
        <Border Grid.Row="2" Background="#252535" CornerRadius="8" Padding="15">
            <Grid>
                <!-- Idle State -->
                <StackPanel x:Name="IdlePanel" VerticalAlignment="Center" HorizontalAlignment="Center">
                    <TextBlock Text="ðŸ”’" FontSize="36" HorizontalAlignment="Center" Opacity="0.5"/>
                    <TextBlock Text="Select a scan type to begin" FontSize="13" Foreground="#666" 
                               HorizontalAlignment="Center" Margin="0,10,0,0"/>
                </StackPanel>
                
                <!-- Scanning State -->
                <StackPanel x:Name="ScanningPanel" Visibility="Collapsed">
                    <TextBlock x:Name="ScanTypeText" Text="Quick Scan in Progress..." FontSize="14" 
                               Foreground="#60a5fa" FontWeight="SemiBold" Margin="0,0,0,10"/>
                    
                    <ProgressBar x:Name="ScanProgress" Height="8" Minimum="0" Maximum="100" Value="0"
                                 Background="#1a1a2a" Foreground="#60a5fa"/>
                    
                    <TextBlock x:Name="ScanPercentText" Text="0%" FontSize="12" Foreground="#888" 
                               HorizontalAlignment="Right" Margin="0,5,0,0"/>
                    
                    <TextBlock x:Name="CurrentFileText" Text="Scanning: /system/..." FontSize="11" 
                               Foreground="#555" Margin="0,15,0,0" TextTrimming="CharacterEllipsis"/>
                    
                    <Grid Margin="0,15,0,0">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>
                        
                        <StackPanel Grid.Column="0">
                            <TextBlock Text="Files Scanned" Foreground="#666" FontSize="10"/>
                            <TextBlock x:Name="FilesScannedText" Text="0" Foreground="#ccc" FontSize="16"/>
                        </StackPanel>
                        
                        <StackPanel Grid.Column="1">
                            <TextBlock Text="Threats Found" Foreground="#666" FontSize="10"/>
                            <TextBlock x:Name="ThreatsFoundText" Text="0" Foreground="#22c55e" FontSize="16"/>
                        </StackPanel>
                        
                        <StackPanel Grid.Column="2">
                            <TextBlock Text="Time Elapsed" Foreground="#666" FontSize="10"/>
                            <TextBlock x:Name="TimeElapsedText" Text="0:00" Foreground="#ccc" FontSize="16"/>
                        </StackPanel>
                    </Grid>
                    
                    <Button x:Name="CancelScanButton" Content="Cancel Scan" Click="CancelScan_Click"
                            Background="#3a3a4a" Foreground="#ccc" Padding="15,8" 
                            BorderThickness="0" Margin="0,20,0,0" HorizontalAlignment="Center" Cursor="Hand"/>
                </StackPanel>
                
                <!-- Results State -->
                <StackPanel x:Name="ResultsPanel" Visibility="Collapsed">
                    <TextBlock x:Name="ResultsTitle" Text="Scan Complete" FontSize="14" 
                               Foreground="#22c55e" FontWeight="SemiBold" Margin="0,0,0,15"/>
                    
                    <ScrollViewer MaxHeight="180" VerticalScrollBarVisibility="Auto">
                        <StackPanel x:Name="ThreatsList"/>
                    </ScrollViewer>
                    
                    <Button x:Name="CleanThreatsButton" Content="ðŸ§¹ Clean All Threats" Click="CleanThreats_Click"
                            Background="#f87171" Foreground="#fff" Padding="15,10" 
                            BorderThickness="0" Margin="0,15,0,0" HorizontalAlignment="Center" Cursor="Hand"
                            Visibility="Collapsed"/>
                    
                    <Button Content="New Scan" Click="NewScan_Click"
                            Background="#3a3a4a" Foreground="#ccc" Padding="15,8" 
                            BorderThickness="0" Margin="0,10,0,0" HorizontalAlignment="Center" Cursor="Hand"/>
                </StackPanel>
            </Grid>
        </Border>
        
        <!-- Protection Features -->
        <Border Grid.Row="3" Background="#252535" CornerRadius="8" Padding="12" Margin="0,15,0,0">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="*"/>
                </Grid.ColumnDefinitions>
                
                <StackPanel Grid.Column="0" Orientation="Horizontal">
                    <TextBlock Text="ðŸ›¡ï¸" Margin="0,0,8,0"/>
                    <TextBlock Text="Real-time Protection" Foreground="#888" FontSize="11" VerticalAlignment="Center"/>
                    <TextBlock x:Name="RealtimeStatus" Text="ON" Foreground="#22c55e" FontSize="11" 
                               FontWeight="Bold" VerticalAlignment="Center" Margin="8,0,0,0"/>
                </StackPanel>
                
                <StackPanel Grid.Column="1" Orientation="Horizontal" HorizontalAlignment="Right">
                    <TextBlock Text="ðŸ“…" Margin="0,0,8,0"/>
                    <TextBlock Text="Definitions:" Foreground="#888" FontSize="11" VerticalAlignment="Center"/>
                    <TextBlock Text="v2025.11.28" Foreground="#60a5fa" FontSize="11" 
                               VerticalAlignment="Center" Margin="5,0,0,0"/>
                </StackPanel>
            </Grid>
        </Border>
    </Grid>
</UserControl>
